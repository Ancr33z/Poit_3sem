01 tfi(tl,tl)
02 {
03 p(l);
04 r(l+l);
05 };
06 tfi(tl,tl)
07 {
08 p(l);
09 r(l+l+i(l,l));
10 };
11 m
12 {
13 dti=i(l,l);
14 
15 p(i);
16 
17 u(i>l)
18 [
19 p(l);
20 ]
21 E
22 [
23 p(l);
24 p(l);
25 ];
26 
27 dti=l;
28 
29 W(i<l)
30 [
31 i=R(i)*P(i,i);
32 i=(i-l)/l;
33 p(i);
34 
35 i=i+l;
36 ];
37 p(i);
38 p(l);
39 i<<l;
40 p(i);
41 dti=l;
42 i=i%l+l;
43 u(i<l)
44 [
45 p(i);
46 p(i);
47 ];
48 rl;
49 };----------------------------------------------------[ID таблица]--------------------------------------------
[ID]----------[SCOPE]---------[TYPE]-----------[IDTYPE]----------[value]--------------[LEidX]---------------
[0] countsum		INT	function	NULL	2
[1] a	countsum	INT	literal	0	5
[2] b	countsum	INT	literal	0	8
[3] print	countsum	INT	std function	NULL	11
[4] calculating_sum	countsum	STR	literal	calculating sum	13
[5] coutsomethingelse		INT	function	NULL	27
[6] a	coutsometha	INT	literal	0	30
[7] b	coutsomethb	INT	literal	0	33
[8] print	coutsomethprint	INT	std function	NULL	36
[9] calculating_combo	coutsomethcalculating_combo	STR	literal	calculating combo	38
[10] main		INT	function	NULL	57
[11] operation	main	INT	variable	NULL	61
[12] 4	main	INT	literal	4	65
[13] 5	main	INT	literal	5	67
[14] print	main	INT	std function	NULL	70
[15] 10	main	INT	literal	10	79
[16] print	main	INT	std function	NULL	82
[17] counting_more_then_10	main	STR	literal	counting more then 10	84
[18] print	main	STR	std function	NULL	90
[19] counting_less_then_10	main	STR	literal	counting less then 10	92
[20] print	main	STR	std function	NULL	95
[21] counter	main	INT	variable	NULL	104
[22] 0	main	INT	literal	0	106
[23] 6	main	INT	literal	6	112
[24] random	main	INT	std function	NULL	117
[25] toPow	main	INT	std function	NULL	122
[26] 1	main	INT	literal	1	134
[27] 3	main	INT	literal	3	137
[28] print	main	INT	std function	NULL	139
[29] print	main	INT	std function	NULL	152
[30] print	main	INT	std function	NULL	157
[31] bitwise_operations	main	STR	literal	bitwise operations	159
[32] 2	main	INT	literal	2	165
[33] print	main	INT	std function	NULL	167
[34] message	main	STR	variable	NULL	174
[35] new_calculating	main	STR	literal	new calculating	176
[36] 7	main	INT	literal	7	182
[37] print	main	INT	std function	NULL	193
[38] print	main	INT	std function	NULL	198
------------------------------------------------------------------------------------------------------------
---------------------------------------[LEXTABLE]----------------------------------------------------------
-[LEXEME]--------[строка]-----[idx]------------------------------------------------------------------------
[0] t	1	NULL
[1] f	1	NULL
[2] i	1	0
[3] (	1	NULL
[4] t	1	NULL
[5] l	1	1
[6] ,	1	NULL
[7] t	1	NULL
[8] l	1	2
[9] )	1	NULL
[10] {	2	NULL
[11] p	3	3
[12] (	3	NULL
[13] l	3	4
[14] )	3	NULL
[15] ;	3	NULL
[16] r	4	NULL
[17] (	4	NULL
[18] l	4	1
[19] +	4	NULL
[20] l	4	2
[21] )	4	NULL
[22] ;	4	NULL
[23] }	5	NULL
[24] ;	5	NULL
[25] t	6	NULL
[26] f	6	NULL
[27] i	6	5
[28] (	6	NULL
[29] t	6	NULL
[30] l	6	6
[31] ,	6	NULL
[32] t	6	NULL
[33] l	6	7
[34] )	6	NULL
[35] {	7	NULL
[36] p	8	8
[37] (	8	NULL
[38] l	8	9
[39] )	8	NULL
[40] ;	8	NULL
[41] r	9	NULL
[42] (	9	NULL
[43] l	9	6
[44] +	9	NULL
[45] l	9	7
[46] +	9	NULL
[47] i	9	0
[48] (	9	NULL
[49] l	9	6
[50] ,	9	NULL
[51] l	9	7
[52] )	9	NULL
[53] )	9	NULL
[54] ;	9	NULL
[55] }	10	NULL
[56] ;	10	NULL
[57] m	11	10
[58] {	12	NULL
[59] d	13	NULL
[60] t	13	NULL
[61] i	13	11
[62] =	13	NULL
[63] i	13	5
[64] (	13	NULL
[65] l	13	12
[66] ,	13	NULL
[67] l	13	13
[68] )	13	NULL
[69] ;	13	NULL
[70] p	15	14
[71] (	15	NULL
[72] i	15	11
[73] )	15	NULL
[74] ;	15	NULL
[75] u	17	NULL
[76] (	17	NULL
[77] i	17	11
[78] >	17	NULL
[79] l	17	15
[80] )	17	NULL
[81] [	18	NULL
[82] p	19	16
[83] (	19	NULL
[84] l	19	17
[85] )	19	NULL
[86] ;	19	NULL
[87] ]	20	NULL
[88] E	21	NULL
[89] [	22	NULL
[90] p	23	18
[91] (	23	NULL
[92] l	23	19
[93] )	23	NULL
[94] ;	23	NULL
[95] p	24	20
[96] (	24	NULL
[97] l	24	19
[98] )	24	NULL
[99] ;	24	NULL
[100] ]	25	NULL
[101] ;	25	NULL
[102] d	27	NULL
[103] t	27	NULL
[104] i	27	21
[105] =	27	NULL
[106] l	27	22
[107] ;	27	NULL
[108] W	29	NULL
[109] (	29	NULL
[110] i	29	21
[111] <	29	NULL
[112] l	29	23
[113] )	29	NULL
[114] [	30	NULL
[115] i	31	11
[116] =	31	NULL
[117] R	31	24
[118] (	31	NULL
[119] i	31	21
[120] )	31	NULL
[121] *	31	NULL
[122] P	31	25
[123] (	31	NULL
[124] i	31	21
[125] ,	31	NULL
[126] i	31	21
[127] )	31	NULL
[128] ;	31	NULL
[129] i	32	11
[130] =	32	NULL
[131] (	32	NULL
[132] i	32	11
[133] -	32	NULL
[134] l	32	26
[135] )	32	NULL
[136] /	32	NULL
[137] l	32	27
[138] ;	32	NULL
[139] p	33	28
[140] (	33	NULL
[141] i	33	11
[142] )	33	NULL
[143] ;	33	NULL
[144] i	35	21
[145] =	35	NULL
[146] i	35	21
[147] +	35	NULL
[148] l	35	26
[149] ;	35	NULL
[150] ]	36	NULL
[151] ;	36	NULL
[152] p	37	29
[153] (	37	NULL
[154] i	37	21
[155] )	37	NULL
[156] ;	37	NULL
[157] p	38	30
[158] (	38	NULL
[159] l	38	31
[160] )	38	NULL
[161] ;	38	NULL
[162] i	39	21
[163] <	39	NULL
[164] <	39	NULL
[165] l	39	32
[166] ;	39	NULL
[167] p	40	33
[168] (	40	NULL
[169] i	40	21
[170] )	40	NULL
[171] ;	40	NULL
[172] d	41	NULL
[173] t	41	NULL
[174] i	41	34
[175] =	41	NULL
[176] l	41	35
[177] ;	41	NULL
[178] i	42	11
[179] =	42	NULL
[180] i	42	11
[181] %	42	NULL
[182] l	42	36
[183] +	42	NULL
[184] l	42	26
[185] ;	42	NULL
[186] u	43	NULL
[187] (	43	NULL
[188] i	43	11
[189] <	43	NULL
[190] l	43	13
[191] )	43	NULL
[192] [	44	NULL
[193] p	45	37
[194] (	45	NULL
[195] i	45	34
[196] )	45	NULL
[197] ;	45	NULL
[198] p	46	38
[199] (	46	NULL
[200] i	46	11
[201] )	46	NULL
[202] ;	46	NULL
[203] ]	47	NULL
[204] ;	47	NULL
[205] r	48	NULL
[206] l	48	22
[207] ;	48	NULL
[208] }	49	NULL
[209] ;	49	NULL
-----------------------------------------------------------------------------------------------------------

Шаг: Правило                       Входная лента                 Стек                
0   : S->tfi(F){NrE;};S             tfi(tl,tl){p(l);r(l+l);};     S$                  
1   : SAVESTATE:          1
1   :                               tfi(tl,tl){p(l);r(l+l);};     tfi(F){NrE;};S$     
2   :                               fi(tl,tl){p(l);r(l+l);};t     fi(F){NrE;};S$      
3   :                               i(tl,tl){p(l);r(l+l);};tf     i(F){NrE;};S$       
4   :                               (tl,tl){p(l);r(l+l);};tfi     (F){NrE;};S$        
5   :                               tl,tl){p(l);r(l+l);};tfi(     F){NrE;};S$         
6   : F->ti                         tl,tl){p(l);r(l+l);};tfi(     F){NrE;};S$         
7   : SAVESTATE:          2
7   :                               tl,tl){p(l);r(l+l);};tfi(     ti){NrE;};S$        
8   :                               l,tl){p(l);r(l+l);};tfi(t     i){NrE;};S$         
9   : TS_NOK/NS_NORULECHAIN
9   : RESTORESTATE        
9   :                               tl,tl){p(l);r(l+l);};tfi(     F){NrE;};S$         
10  : F->ti,F                       tl,tl){p(l);r(l+l);};tfi(     F){NrE;};S$         
11  : SAVESTATE:          2
11  :                               tl,tl){p(l);r(l+l);};tfi(     ti,F){NrE;};S$      
12  :                               l,tl){p(l);r(l+l);};tfi(t     i,F){NrE;};S$       
13  : TS_NOK/NS_NORULECHAIN
13  : RESTORESTATE        
13  :                               tl,tl){p(l);r(l+l);};tfi(     F){NrE;};S$         
14  : TNS_NORULECHAIN/NS_NORULE
14  : RESTORESTATE        
14  :                               tfi(tl,tl){p(l);r(l+l);};     S$                  
15  : S->tfi(){NrE;};S              tfi(tl,tl){p(l);r(l+l);};     S$                  
16  : SAVESTATE:          1
16  :                               tfi(tl,tl){p(l);r(l+l);};     tfi(){NrE;};S$      
17  :                               fi(tl,tl){p(l);r(l+l);};t     fi(){NrE;};S$       
18  :                               i(tl,tl){p(l);r(l+l);};tf     i(){NrE;};S$        
19  :                               (tl,tl){p(l);r(l+l);};tfi     (){NrE;};S$         
20  :                               tl,tl){p(l);r(l+l);};tfi(     ){NrE;};S$          
21  : TS_NOK/NS_NORULECHAIN
21  : RESTORESTATE        
21  :                               tfi(tl,tl){p(l);r(l+l);};     S$                  
22  : S->tfi(F){NrE;};              tfi(tl,tl){p(l);r(l+l);};     S$                  
23  : SAVESTATE:          1
23  :                               tfi(tl,tl){p(l);r(l+l);};     tfi(F){NrE;};$      
24  :                               fi(tl,tl){p(l);r(l+l);};t     fi(F){NrE;};$       
25  :                               i(tl,tl){p(l);r(l+l);};tf     i(F){NrE;};$        
26  :                               (tl,tl){p(l);r(l+l);};tfi     (F){NrE;};$         
27  :                               tl,tl){p(l);r(l+l);};tfi(     F){NrE;};$          
28  : F->ti                         tl,tl){p(l);r(l+l);};tfi(     F){NrE;};$          
29  : SAVESTATE:          2
29  :                               tl,tl){p(l);r(l+l);};tfi(     ti){NrE;};$         
30  :                               l,tl){p(l);r(l+l);};tfi(t     i){NrE;};$          
31  : TS_NOK/NS_NORULECHAIN
31  : RESTORESTATE        
31  :                               tl,tl){p(l);r(l+l);};tfi(     F){NrE;};$          
32  : F->ti,F                       tl,tl){p(l);r(l+l);};tfi(     F){NrE;};$          
33  : SAVESTATE:          2
33  :                               tl,tl){p(l);r(l+l);};tfi(     ti,F){NrE;};$       
34  :                               l,tl){p(l);r(l+l);};tfi(t     i,F){NrE;};$        
35  : TS_NOK/NS_NORULECHAIN
35  : RESTORESTATE        
35  :                               tl,tl){p(l);r(l+l);};tfi(     F){NrE;};$          
36  : TNS_NORULECHAIN/NS_NORULE
36  : RESTORESTATE        
36  :                               tfi(tl,tl){p(l);r(l+l);};     S$                  
37  : S->tfi(){NrE;};               tfi(tl,tl){p(l);r(l+l);};     S$                  
38  : SAVESTATE:          1
38  :                               tfi(tl,tl){p(l);r(l+l);};     tfi(){NrE;};$       
39  :                               fi(tl,tl){p(l);r(l+l);};t     fi(){NrE;};$        
40  :                               i(tl,tl){p(l);r(l+l);};tf     i(){NrE;};$         
41  :                               (tl,tl){p(l);r(l+l);};tfi     (){NrE;};$          
42  :                               tl,tl){p(l);r(l+l);};tfi(     ){NrE;};$           
43  : TS_NOK/NS_NORULECHAIN
43  : RESTORESTATE        
43  :                               tfi(tl,tl){p(l);r(l+l);};     S$                  
44  : TNS_NORULECHAIN/NS_NORULE
45  : ------>NS_NORULE    

Использованные правила:

